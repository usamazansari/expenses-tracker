<ng-container *ngIf="transaction; else showError">
  <div
    class="flex items-center justify-between p-2 rounded-lg bg-et-layer text-et-color-fg-default">
    <div class="flex items-center gap-2">
      <span
        class="grid w-16 h-16 text-2xl rounded-full cursor-default place-content-center"
        [ngClass]="{
          'text-et-color-fg-danger bg-et-color-bg-danger': transaction.direction === 'expense',
          'text-et-color-fg-success bg-et-color-bg-success': transaction.direction === 'income'
        }">
        <ng-container *ngIf="!transaction.category; else showCategory">?</ng-container>
        <ng-template #showCategory>
          {{ transaction.category.at(0)?.toUpperCase() }}
        </ng-template>
      </span>
      <div class="grid gap-2">
        <ng-container *ngIf="!transaction.message; else displayMessage">
          <span class="text-et-color-fg-muted">Unknown {{ transaction.direction }}</span>
        </ng-container>
        <ng-template #displayMessage>
          <span class="font-bold">{{ transaction.message }}</span>
        </ng-template>
        <p class="text-sm italic">
          {{ transaction.timestamp | date : 'long' }}
        </p>
      </div>
    </div>
    <div class="flex">
      <span
        class="text-xl font-bold"
        [ngClass]="{
          'text-et-color-fg-danger': transaction.direction === 'expense',
          'text-et-color-fg-success': transaction.direction === 'income'
        }">
        <ng-container *ngIf="transaction.direction === 'expense'"> - </ng-container>
        <ng-container *ngIf="transaction.direction === 'income'"> + </ng-container>
        {{ transaction.amount | currency : 'EUR' }}
      </span>
    </div>
  </div>
</ng-container>
<ng-template #showError>
  <p>Error displaying transaction</p>
</ng-template>
