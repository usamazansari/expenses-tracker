<div class="p-4 group">
  <div class="grid grid-cols-[auto_1fr]">
    <div class="grid gap-2">
      <a (click)="gotoPocketbookDetail()">
        <div class="flex items-center gap-2 cursor-pointer">
          <ng-container *ngIf="isOwner(); else isCollaborator">
            <span class="material-icons text-[1.375rem] text-color-open-fg">verified_user</span>
          </ng-container>
          <ng-template #isCollaborator>
            <span class="material-icons text-[1.375rem] text-color-fg-default">group</span>
          </ng-template>
          <p class="text-2xl font-bold text-color-accent-fg hover:underline">
            {{ pocketbook()?.name }}
          </p>
        </div>
      </a>

      <div class="flex gap-2" [expensesTrackerTooltip]="showContributorsTooltip">
        <span
          class="font-semibold transition-colors duration-200 cursor-pointer hover:text-color-accent-fg"
          (click)="showContributors()">
          {{ pocketbook()?.collaboratorList?.length }}
          {{ (pocketbook()?.collaboratorList || []).length !== 1 ? 'Collaborators' : 'Collaborator' }}
        </span>
      </div>

      <div class="flex items-center gap-1 cursor-default">
        <span class="text-[1.375rem] material-icons text-color-fg-muted">today</span>
        <p class="text-sm italic font-semibold text-color-fg-muted">
          {{ pocketbook()?.createdAt | date: 'longDate' }}
        </p>
      </div>
    </div>

    <div class="grid grid-cols-[1fr_auto] gap-2 items-center">
      <p
        class="text-2xl font-bold text-right"
        [ngClass]="{
          'text-color-danger-fg': (pocketbook()?.balance || 0) <= 0,
          'text-color-success-fg': (pocketbook()?.balance || 0) > 0
        }">
        {{ pocketbook()?.balance | currency: 'EUR' }}
      </p>
    </div>
  </div>
</div>

<expenses-tracker-tooltip #showContributorsTooltip>
  <span class="flex text-center">Click to show the owners and collaborators of this pocketbook</span>
</expenses-tracker-tooltip>
