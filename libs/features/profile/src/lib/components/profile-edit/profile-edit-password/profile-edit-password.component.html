<div class="relative grid w-96 et-card">
  <ng-container *ngIf="flags().loading">
    <div class="grid rounded-lg cursor-not-allowed et-loading-overlay place-content-center">
      <div class="flex items-center gap-2 p-2 rounded bg-color-danger-subtle">
        <span class="text-4xl text-color-danger-fg material-icons">construction</span>
        <span class="text-color-danger-fg">Under construction!</span>
      </div>
    </div>
  </ng-container>
  <ng-container *ngIf="flags().visible">
    <form [formGroup]="formGroup" (ngSubmit)="editPassword()">
      <div class="grid gap-2">
        <div class="et-form-field-wrapper">
          <label for="old-password-input" class="font-bold">Old Password</label>
          <div class="et-form-field-input-wrapper">
            <input class="w-full et-input" formControlName="oldPassword" id="old-password-input" type="password" />
            <ng-container *ngIf="oldPassword().error.flag">
              <span class="et-form-field-input-error-message">{{ oldPassword().error.message }}</span>
            </ng-container>
          </div>
        </div>
        <div class="et-form-field-wrapper">
          <label for="new-password-input" class="font-bold">New Password</label>
          <div class="et-form-field-input-wrapper">
            <input class="w-full et-input" formControlName="newPassword" id="new-password-input" type="password" />
            <ng-container *ngIf="newPassword().error.flag">
              <span class="et-form-field-input-error-message">{{ newPassword().error.message }}</span>
            </ng-container>
          </div>
        </div>
        <div class="et-form-field-wrapper">
          <label for="confirm-new-input" class="font-bold">Confirm New Password</label>
          <div class="et-form-field-input-wrapper">
            <input
              class="w-full et-input"
              formControlName="confirmNewPassword"
              id="confirm-new-password-input"
              type="password" />
            <ng-container *ngIf="confirmNewPassword().error.flag">
              <span class="et-form-field-input-error-message">{{ confirmNewPassword().error.message }}</span>
            </ng-container>
          </div>
        </div>

        <div class="grid grid-cols-2 gap-2">
          <button type="submit" class="w-full et-button et-button-danger" (click)="cancelEdit()">
            <span class="material-icons min-w-[24px]">clear</span>
            <span>Cancel</span>
          </button>
          <button type="submit" class="w-full et-button et-button-primary">
            <span class="material-icons min-w-[24px]">save</span>
            <span>Update</span>
          </button>
        </div>
      </div>
    </form>
  </ng-container>
</div>
